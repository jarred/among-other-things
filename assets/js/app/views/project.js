// Generated by CoffeeScript 1.6.2
(function() {
<<<<<<< HEAD
  define(["libs/backbone", "libs/underscore"], function() {
    var ProjectView;

    ProjectView = Backbone.View.extend({
      initialize: function() {
        _.bindAll(this);
        this.$el = $(this.el);
        this.model = new Backbone.Model(JSON.parse(this.$('.data').html()));
=======
  define(["backbone", "underscore"], function() {
    var ProjectView;

    ProjectView = Backbone.View.extend({
      initialize: function(options) {
        this.options = options;
        _.bindAll(this);
        this.$el = $(this.el);
        if (this.options.model === void 0) {
          this.model = new Backbone.Model(JSON.parse(this.$('.data').html()));
        }
        this.model.set('images', _.shuffle(this.model.get('images')));
        this.$grid = $('#grid');
>>>>>>> gh-pages
        this.render();
      },
      render: function() {
        var _this = this;

        _.each(this.model.get('images'), function(obj) {
<<<<<<< HEAD
          _this.$el.append(_this.template(obj));
        });
      },
      template: _.template("<div class=\"image\" style=\"width: <%= width %>px; height: <%= height %>px\">\n	<img src=\"<%= src %>\" style=\"width: <%= width %>px; height: <%= height %>px\" />\n</div>")
=======
          var cell, view;

          view = require("views/project-image");
          cell = new view({
            model: new Backbone.Model(obj),
            attributes: {
              "class": "cell " + obj.size
            }
          });
          _this.$grid.append(cell.el);
        });
      }
>>>>>>> gh-pages
    });
    return ProjectView;
  });

}).call(this);
