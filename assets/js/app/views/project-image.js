// Generated by CoffeeScript 1.6.2
(function() {
  define(["backbone", "underscore"], function() {
    var ProjectImage;

    ProjectImage = Backbone.View.extend({
      initialize: function(options) {
        this.options = options;
        _.bindAll(this);
        this.$el = $(this.el);
        console.log('ProjectImage', this.model.toJSON());
        this.render();
      },
      template: _.template("<div class=\"internal\">\n	<div class=\"block\">\n		<div class=\"preloader animating\">\n			<div class=\"lines\"></div>\n		</div>\n	</div>\n</div>"),
      render: function() {
        this.$el.html(this.template(this.model.toJSON()));
        this.img = new Image();
        this.img.onload = this.transitionIn;
        this.img.src = this.model.get('src');
        this.$('.internal').append(this.img);
      },
      transitionIn: function() {
        console.log('transitionIn');
        TweenMax.to(this.$('.internal'), .3, {
          top: 0 - this.$el.height()
        });
      }
    });
    return ProjectImage;
  });

}).call(this);
