// Generated by CoffeeScript 1.3.3
(function() {

  define(["libs/backbone", "libs/underscore"], function() {
    var ProjectView;
    ProjectView = Backbone.View.extend({
      currentSlide: 0,
      events: {
        'ready': 'ready'
      },
      initialize: function() {
        _.bindAll(this);
        this.$el = $(this.el);
        this.totalSlides = this.$('.slide').length;
        this.showSlide(0);
      },
      ready: function() {
        this.$el.addClass('visible');
        this.int = setInterval(this.tick, 600);
      },
      showSlide: function(n) {
        var $el, el;
        this.$('.slide.visible').removeClass('visible');
        el = this.$('.slide')[n];
        $el = $(el);
        $el.addClass('visible');
        this.currentSlide = n;
      },
      tick: function() {
        this.currentSlide++;
        this.showSlide(this.currentSlide);
        if (this.currentSlide === this.totalSlides) {
          clearInterval(this.tick);
          this.$el.trigger('completed');
        }
      }
    });
    return ProjectView;
  });

}).call(this);
